import{_ as i,o as a,c as e,ag as t}from"./chunks/framework.DEqXEGcv.js";const o=JSON.parse('{"title":"Resources","description":"","frontmatter":{},"headers":[],"relativePath":"resources.md","filePath":"resources.md","lastUpdated":1772228606000}'),n={name:"resources.md"};function p(l,s,h,k,r,d){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">​</a></h1><p>Resources let you expose data that an LLM can read. MCPConnect supports three kinds:</p><table tabindex="0"><thead><tr><th>Type</th><th>Attribute</th><th>Description</th></tr></thead><tbody><tr><td>Class-based resources</td><td><code>[McpResource]</code></td><td>Methods that return dynamic content</td></tr><tr><td>MCP Apps</td><td><code>[McpApp]</code></td><td>Methods that return a UI (e.g. HTML) rendered by the client</td></tr><tr><td>Static files</td><td>—</td><td>Files served directly from disk</td></tr></tbody></table><h2 id="class-based-resources" tabindex="-1">Class-Based Resources <a class="header-anchor" href="#class-based-resources" aria-label="Permalink to &quot;Class-Based Resources&quot;">​</a></h2><p>Decorate a method with <code>[McpResource]</code> to expose it as a readable resource:</p><div class="language-pascal vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">pascal</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  TWeatherResource = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  public</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [McpResource(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;weather-resource&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text://weather&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text/csv&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Current weather data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetWeatherInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>The <code>[McpResource]</code> attribute takes <code>(name, uri, mimeType, description)</code>.</p><h2 id="mcp-apps" tabindex="-1">MCP Apps <a class="header-anchor" href="#mcp-apps" aria-label="Permalink to &quot;MCP Apps&quot;">​</a></h2><p>MCP Apps are UI resources served via a <code>ui://</code> URI scheme. The client (if it supports it) renders the returned content as an interactive widget.</p><div class="language-pascal vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">pascal</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  TMyApp = </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  public</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [McpApp(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ui://my-app/index.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ui://my-app/index.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;An interactive UI panel&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetUI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TMyApp.GetUI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">begin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  Result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> := TFile.ReadAllText(TPath.Combine(TPath.GetAppPath, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-app.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>The <code>[McpApp]</code> attribute takes <code>(name, uri, description)</code>.</p><h3 id="linking-a-tool-to-an-app" tabindex="-1">Linking a Tool to an App <a class="header-anchor" href="#linking-a-tool-to-an-app" aria-label="Permalink to &quot;Linking a Tool to an App&quot;">​</a></h3><p>A tool can declare an associated MCP App using the <code>app=</code> annotation in <code>[McpTool]</code>:</p><div class="language-pascal vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">pascal</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[McpTool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;get_tickets&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;List available tickets&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app=ui://my-app/index.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetTickets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: TTickets;</span></span></code></pre></div><p>This tells the client that the tool result can be rendered inside the specified app UI.</p><h2 id="registering-resources-and-static-files" tabindex="-1">Registering Resources and Static Files <a class="header-anchor" href="#registering-resources-and-static-files" aria-label="Permalink to &quot;Registering Resources and Static Files&quot;">​</a></h2><p>All resource types are registered in the <code>.Resources</code> section:</p><div class="language-pascal vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">pascal</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Resources</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .SetBasePath(GetCurrentDir + </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;\\data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .RegisterClass(TWeatherResource)             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [McpResource] class</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .RegisterClass(TMyApp)                       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [McpApp] class</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .RegisterFile(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;readme.md&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Documentation&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Static text file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .RegisterFile(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;docs\\guide.pdf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;User Guide&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Static binary file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.BackToMCP</span></span></code></pre></div><p>Remember to declare <code>Resources</code> in <code>.SetCapabilities</code>:</p><div class="language-pascal vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">pascal</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .SetCapabilities([Tools, Resources])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.BackToMCP</span></span></code></pre></div>`,20)])])}const E=i(n,[["render",p]]);export{o as __pageData,E as default};
